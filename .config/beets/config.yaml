directory: ~/Music/Sorted # Where the fixed files will go (safer than overwriting!)
library: ~/.config/beets/musiclibrary.db

# Plugins to load
# ... keep your directory and library settings ...

plugins: fetchart lyrics scrub chroma discogs

# Import settings for maximum accuracy
import:
    move: yes
    write: yes
    resume: yes
    quiet: yes       # Auto-mode
    timid: no        # Take the best guess (don't skip)
    log: beets.log
    strong_rec_thresh: 0.40  # Be stricter about "Good" matches (lower is stricter)
    medium_rec_thresh: 0.15  # Allow slightly messier "Okay" matches
    
    # MATCHING STRATEGY
    # -----------------
    # This is the secret sauce. 
    # We tell Beets: "If the audio matches, IGNORE the filename."
    
    match:
        # Distance weights: How important is each factor?
        # (0.0 = ignore, 1.0 = very important)
        track_index: 1.0
        track_title: 0.8  # Trust the title less (it might be misspelled)
        artist: 0.9       # Trust the artist name
        album: 0.5        # Trust the album name less (singles often have wrong album tags)
        year: 0.1         # Ignore the year (re-releases happen all the time)
        
        # Audio Fingerprinting (Chroma)
        # Give this a huge advantage. If the audio matches, use it.
        track_length: 1.0 
        audio_properties: 1.0

# Plugin Tuning
chroma:
    auto: yes

# Use Discogs if MusicBrainz fails, but prioritize MusicBrainz
discogs:
    source_weight: 0.0
